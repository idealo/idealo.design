{"version":3,"file":"static/webpack/static/development/pages/elements/[element].js.bcf4c494b89ba196320e.hot-update.js","sources":["webpack:///./components/ElementPage/ElementBody.js"],"sourcesContent":["import React from 'react'\n\nimport Link from 'next/link'\n\nimport Highlight from 'react-highlight'\n\n\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\nimport { twilight } from 'react-syntax-highlighter/dist/cjs/styles/prism';\n\nimport Card from 'components/Card'\n\nimport styles from './ElementBody.module.scss'\n\n\nfunction H1(section) {\n    return (\n        <>\n          <h1>{section.content}</h1>\n          {/* <div dangerouslySetInnerHTML={{ __html: section.content }} /> */}\n        </>\n    );\n\n}\n\nfunction H2(section) {\n    return (\n        <>\n          <a name={section.content} />\n          <h2>{section.content}</h2>\n          {/* <div dangerouslySetInnerHTML={{ __html: section.content }} /> */}\n        </>\n    );\n}\n\nfunction P(section) {\n    return <p dangerouslySetInnerHTML={{ __html: section.content }} />;\n}\n\nfunction Code(section) {\n    let lang = ''\n    if (section.lang === 'js') lang = 'javascript'\n    if (section.lang === 'bash') lang = 'bash'\n    if (section.lang === 'css') lang = 'scss'\n\n    const customStyle = {\n        border: 0,\n        borderRadius: 0,\n    }\n\n    return (\n        <>\n          <SyntaxHighlighter language={lang} customStyle={customStyle} style={twilight} showLineNumbers>\n            {section.content}\n          </SyntaxHighlighter>\n        </>\n    );\n\n}\n\nexport default class ElementBody extends React.Component {\n\n    constructor(props) {\n        super(props)\n\n        this.emitStickyEvent = this.emitStickyEvent.bind(this)\n    }\n\n    componentDidMount() {\n        window.addEventListener('scroll', this.emitStickyEvent)\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('scroll', this.emitStickyEvent)\n    }\n\n    emitStickyEvent() {\n        const y = window.scrollY || window.pageYOffset\n\n        if (y > 150) {\n            const enableSticky = new Event('Header:enableSticky')\n            window.dispatchEvent(enableSticky)\n        } else {\n            const disableSticky = new Event('Header:disableSticky')\n            window.dispatchEvent(disableSticky)\n        }\n    }\n\n    render() {\n        if (!this.props.element) return null\n\n        const element = this.props.element\n        const sections = element.sections\n\n        console.log('ElementBody element', element)\n\n        const style = {\n            display: 'block',\n            position: 'relative',\n            top: '-7rem',\n            visibility: 'hidden',\n        }\n\n        return (\n            <div className={styles.ElementBody}>\n              <Card>\n                <section>\n                  {sections.map((section, idx) => (\n                      <div key={idx}>\n                        {section.type === 'h1' && H1(section)}\n                        {section.type === 'h2' && H2(section)}\n                        {section.type === 'p' && P(section)}\n                        {section.type === 'code' && Code(section)}\n\n                      </div>\n                  ))}\n                </section>\n              </Card>\n            </div>\n        )\n    }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AAEA;AAGA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAKA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AAEA;AAHA;AAIA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAOA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAaA;;;;AA5DA;AACA;;;;;A","sourceRoot":""}