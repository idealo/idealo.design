{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport PageLayout from 'components/PageLayout';\nimport ElementHeader from './ElementHeader';\nimport ElementBody from './ElementBody';\nimport Router, { withRouter } from 'next/router';\nimport { getElementBySlug } from 'data/elements'; // const element = getElementBySlug('button')\n\nclass ElementDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      element: null\n    };\n    this.handleRouteChange = this.handleRouteChange.bind(this);\n  }\n\n  componentDidMount() {\n    const {\n      elementName\n    } = this.props.router.query; // console.debug('this.props.router.query', this.props.router.query)\n\n    this.setState({\n      element: getElementBySlug(elementName)\n    });\n    Router.events.on('routeChangeStart', this.handleRouteChange);\n  }\n\n  componentWillUnmount() {\n    Router.events.off('routeChangeStart', this.handleRouteChange);\n  }\n\n  handleRouteChange() {\n    const {\n      elementName\n    } = this.props.router.query;\n    console.debug('elementName', elementName);\n    this.setState({\n      element: getElementBySlug(elementName)\n    });\n  }\n\n  render() {\n    return __jsx(PageLayout, null, __jsx(ElementHeader, {\n      element: this.props.element\n    }), __jsx(ElementBody, {\n      element: this.props.element\n    }));\n  }\n\n}\n\nexport default withRouter(ElementDetails);","map":null,"metadata":{},"sourceType":"module"}