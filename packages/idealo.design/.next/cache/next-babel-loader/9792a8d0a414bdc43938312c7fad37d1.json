{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport PageLayout from 'components/PageLayout';\nimport ElementPage from 'components/ElementPage';\nimport Router, { withRouter, useRouter } from 'next/router';\nimport { getElementBySlug } from 'data/elements'; // const element = getElementBySlug('button')\n\nexport async function getStaticProps({\n  params\n}) {\n  console.log('getStaticProps', params);\n  return {\n    props: {\n      id: 12345\n    }\n  };\n}\nexport async function getStaticPaths() {\n  // Return a list of possible value for id\n  console.log('getStaticPaths called');\n} // class ElementPageView extends React.Component {\n//     constructor(props) {\n//         super(props)\n//         console.log('ElementPageView constructor props', props)\n//         this.state = {\n//             element: null\n//         }\n//         this.handleRouteChange = this.handleRouteChange.bind(this)\n//     }\n//     componentDidMount() {\n//         const { elementName } = this.props.router.query\n//         console.debug('elementPageView:componentDidMount this.props.router', this.props.router)\n//         this.setState({\n//             element: getElementBySlug(elementName)\n//         })\n//         Router.events.on('routeChangeStart', this.handleRouteChange)\n//     }\n//     componentWillUnmount() {\n//         Router.events.off('routeChangeStart', this.handleRouteChange)\n//     }\n//     handleRouteChange() {\n//         const { elementName } = this.props.router.query\n//         console.debug('elementPageView:handleRouteChange elementName', this.props.router)\n//         this.setState({\n//             element: getElementBySlug(elementName)\n//         })\n//     }\n//     async getStaticProps({ params }) {\n//         console.log('Class: getStaticProps', params)\n//         return {\n//             props: {\n//                 id: 12345,\n//             }\n//         }\n//     }\n//     async getStaticPaths() {\n//         // Return a list of possible value for id\n//         console.log('Class: getStaticPaths called')\n//     }\n//     render() {\n//         return (\n//             <ElementPage element={this.state.element} />\n//         )\n//     }\n// }\n\nfunction ElementPageView({\n  element\n}) {\n  if (!element) {\n    const router = useRouter();\n    const {\n      element: slug\n    } = router.query;\n    element = getElementBySlug(slug);\n  }\n\n  return __jsx(ElementPage, {\n    element: element\n  });\n}\n\nElementPageView.getInitialProps = async ({\n  req\n}) => {\n  const elementSlug = req && req.params ? req.params.element : '';\n  console.log('ElementPageView.getInitialProps elementSlug', elementSlug);\n  const element = getElementBySlug(elementSlug);\n  return {\n    element\n  };\n};\n\nexport default withRouter(ElementPageView);","map":null,"metadata":{},"sourceType":"module"}