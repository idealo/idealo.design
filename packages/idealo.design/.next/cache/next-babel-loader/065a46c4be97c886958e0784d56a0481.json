{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport PageLayout from 'components/PageLayout';\nimport ElementPage from 'components/ElementPage';\nimport Router, { withRouter, useRouter } from 'next/router';\nimport { getElementBySlug } from 'data/elements'; // const element = getElementBySlug('button')\n\n// class ElementPageView extends React.Component {\n//     constructor(props) {\n//         super(props)\n//         console.log('ElementPageView constructor props', props)\n//         this.state = {\n//             element: null\n//         }\n//         this.handleRouteChange = this.handleRouteChange.bind(this)\n//     }\n//     componentDidMount() {\n//         const { elementName } = this.props.router.query\n//         console.debug('elementPageView:componentDidMount this.props.router', this.props.router)\n//         this.setState({\n//             element: getElementBySlug(elementName)\n//         })\n//         Router.events.on('routeChangeStart', this.handleRouteChange)\n//     }\n//     componentWillUnmount() {\n//         Router.events.off('routeChangeStart', this.handleRouteChange)\n//     }\n//     handleRouteChange() {\n//         const { elementName } = this.props.router.query\n//         console.debug('elementPageView:handleRouteChange elementName', this.props.router)\n//         this.setState({\n//             element: getElementBySlug(elementName)\n//         })\n//     }\n//     async getStaticProps({ params }) {\n//         console.log('Class: getStaticProps', params)\n//         return {\n//             props: {\n//                 id: 12345,\n//             }\n//         }\n//     }\n//     async getStaticPaths() {\n//         // Return a list of possible value for id\n//         console.log('Class: getStaticPaths called')\n//     }\n//     render() {\n//         return (\n//             <ElementPage element={this.state.element} />\n//         )\n//     }\n// }\nfunction ElementPageView(_ref) {\n  var element = _ref.element;\n\n  if (!element) {\n    var router = useRouter();\n    var slug = router.query.element;\n    element = getElementBySlug(slug);\n  }\n\n  return __jsx(ElementPage, {\n    element: element\n  });\n}\n\nElementPageView.getInitialProps = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var req, elementSlug, element;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            req = _ref2.req;\n            elementSlug = req && req.params ? req.params.element : '';\n            console.log('ElementPageView.getInitialProps elementSlug', elementSlug);\n            element = getElementBySlug(elementSlug);\n            return _context.abrupt(\"return\", {\n              element: element\n            });\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport var __N_SSG = true;\nexport default withRouter(ElementPageView);","map":null,"metadata":{},"sourceType":"module"}